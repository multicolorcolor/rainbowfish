[gd_scene load_steps=41 format=3 uid="uid://g7xgkwwsalab"]

[ext_resource type="Script" path="res://Scripts/sceneManager.gd" id="1_dqiju"]
[ext_resource type="Texture2D" uid="uid://x0u624kbbepl" path="res://layout/old/BG Layout_Page_01.jpg" id="1_fr252"]
[ext_resource type="PackedScene" uid="uid://d2nll4g1yk0gh" path="res://GameObjects/Fish.tscn" id="2_orlob"]
[ext_resource type="Texture2D" uid="uid://c4be6yrd0v51s" path="res://layout/old/BG Layout_Page_02.jpg" id="2_rfwdo"]
[ext_resource type="PackedScene" uid="uid://crg7a068vheai" path="res://GameObjects/PlayerTest.tscn" id="2_ru0e0"]
[ext_resource type="Script" path="res://Scripts/FishScore.gd" id="3_yt2u6"]
[ext_resource type="Texture2D" uid="uid://bttmkteh81kyw" path="res://layout/old/BG Layout_Page_03.jpg" id="4_fwrbr"]
[ext_resource type="Texture2D" uid="uid://bvxvh2tq8dvck" path="res://layout/old/BG Layout_Page_04.jpg" id="5_b11rn"]
[ext_resource type="Texture2D" uid="uid://bv4i1ibgiowlk" path="res://layout/old/BG Layout_Page_05.jpg" id="6_rmdn5"]
[ext_resource type="Texture2D" uid="uid://7lqjjouyarr8" path="res://layout/old/BG Layout_Page_06.jpg" id="7_ppyvg"]
[ext_resource type="Texture2D" uid="uid://cnjdgc2dgxlt4" path="res://layout/old/BG Layout_Page_07.jpg" id="8_2e7kl"]
[ext_resource type="Texture2D" uid="uid://dyp5lj5knqexv" path="res://layout/old/BG Layout_Page_08.jpg" id="9_utpwh"]
[ext_resource type="Texture2D" uid="uid://h5ywgrb5fxrq" path="res://layout/old/BG Layout_Page_09.jpg" id="10_4q4v2"]
[ext_resource type="Texture2D" uid="uid://b1bu3f0pxh4fp" path="res://layout/old/BG Layout_Page_10.jpg" id="11_jp35h"]
[ext_resource type="Texture2D" uid="uid://c1e10axbalxe5" path="res://layout/old/BG Layout_Page_11.jpg" id="12_qxo6j"]
[ext_resource type="Texture2D" uid="uid://8ela2sxjd1gd" path="res://layout/old/BG Layout_Page_12.jpg" id="13_yyhiw"]
[ext_resource type="Texture2D" uid="uid://of5stp3vmjoa" path="res://layout/background/Background__1.jpg" id="14_jat1y"]
[ext_resource type="Texture2D" uid="uid://c2fy23kwoyll7" path="res://layout/background/Background__2.jpg" id="15_fla5m"]
[ext_resource type="Texture2D" uid="uid://cq0m884kyxnjp" path="res://layout/background/Background__3.jpg" id="16_f1pbb"]
[ext_resource type="Script" path="res://Scenes/flashbacksManager.gd" id="16_hixwt"]
[ext_resource type="Texture2D" uid="uid://kaov3lfwnjw8" path="res://layout/background/Background__4.jpg" id="17_4ots1"]
[ext_resource type="Texture2D" uid="uid://dwdjkfpgwluex" path="res://layout/background/Background__5.jpg" id="18_mo34c"]
[ext_resource type="Texture2D" uid="uid://dcyvnyu8ru1tr" path="res://layout/background/Background__6.jpg" id="19_pfrib"]
[ext_resource type="Texture2D" uid="uid://cuad3q35yvcou" path="res://layout/background/Background__7.jpg" id="20_pyg1e"]
[ext_resource type="Texture2D" uid="uid://c3q4q5s0i5j87" path="res://layout/background/Background__8.jpg" id="21_wxobd"]
[ext_resource type="Texture2D" uid="uid://bsa7wp6ifqlob" path="res://layout/background/Background__9.jpg" id="22_x1dbr"]
[ext_resource type="Texture2D" uid="uid://bec4iptmlbxbs" path="res://layout/background/Background__10.jpg" id="23_6he83"]
[ext_resource type="Texture2D" uid="uid://qxj7pbovfqkp" path="res://layout/background/Background__11.jpg" id="24_mrc11"]
[ext_resource type="Texture2D" uid="uid://c768u8rrcxm6b" path="res://layout/background/Background__12.jpg" id="25_utbwc"]
[ext_resource type="Texture2D" uid="uid://c2k38ey0ww812" path="res://layout/background/Background__13.jpg" id="26_yh8ta"]
[ext_resource type="Texture2D" uid="uid://dmddp2bc8vp8y" path="res://layout/background/Background__14.jpg" id="27_jt5sp"]
[ext_resource type="Texture2D" uid="uid://c6qvcmvi3j7ct" path="res://layout/background/BG/BG1.jpg" id="28_4x760"]
[ext_resource type="Texture2D" uid="uid://yy535q7hb31v" path="res://layout/background/BG/BG2.jpg" id="29_xb2w4"]
[ext_resource type="Texture2D" uid="uid://ca5n4klgeooqa" path="res://layout/background/BG/BG0.jpg" id="30_7da55"]
[ext_resource type="Texture2D" uid="uid://1cyy65752nej" path="res://layout/details/waterlayer.png" id="35_75k71"]
[ext_resource type="Texture2D" uid="uid://km7nuxhq41sj" path="res://layout/details/waterlayer_part1.png" id="36_rkjx6"]
[ext_resource type="Texture2D" uid="uid://cc13s34bpgvh7" path="res://layout/details/waterlayer_part2.png" id="37_bcpg3"]
[ext_resource type="Texture2D" uid="uid://cjudvlvqwpfsh" path="res://layout/details/detail01.png" id="38_3brxp"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_3unfs"]

[sub_resource type="Curve2D" id="Curve2D_g3ntp"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 247, -115, 0, 0, 0, 0, 1714, -53, 0, 0, 0, 0, 2239, 136, 0, 0, 0, 0, 3228, 83, 0, 0, 0, 0, 3990, 115, 0, 0, 0, 0, 4286, 261, 0, 0, 0, 0, 3666, 453, 0, 0, 0, 0, 2065, 327, 0, 0, 0, 0, 1347, 155, 0, 0, 0, 0, 858, 102, 0, 0, 0, 0, 15, -14)
}
point_count = 11

[node name="TestScene" type="Node2D"]
script = ExtResource("1_dqiju")

[node name="Layouts" type="Node2D" parent="."]

[node name="Sprite_background" type="Node2D" parent="Layouts"]
visible = false

[node name="BgLayoutPage01" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(-2, 6)
scale = Vector2(0.605, 0.605)
texture = ExtResource("1_fr252")

[node name="BgLayoutPage02" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(1155, 4)
scale = Vector2(0.605, 0.605)
texture = ExtResource("2_rfwdo")

[node name="BgLayoutPage03" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(2314, 8)
scale = Vector2(0.605, 0.605)
texture = ExtResource("4_fwrbr")

[node name="BgLayoutPage04" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(3469, 486)
scale = Vector2(0.605, 0.605)
texture = ExtResource("5_b11rn")

[node name="BgLayoutPage05" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(4626, 488)
scale = Vector2(0.605, 0.605)
texture = ExtResource("6_rmdn5")

[node name="BgLayoutPage06" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(5782, 733)
scale = Vector2(0.605, 0.605)
texture = ExtResource("7_ppyvg")

[node name="BgLayoutPage07" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(6943, 1096)
scale = Vector2(0.605, 0.605)
texture = ExtResource("8_2e7kl")

[node name="BgLayoutPage08" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(8106, 870)
scale = Vector2(0.605, 0.605)
texture = ExtResource("9_utpwh")

[node name="BgLayoutPage09" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(9260, 1143)
scale = Vector2(0.605, 0.605)
texture = ExtResource("10_4q4v2")

[node name="BgLayoutPage10" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(10426, 1755)
scale = Vector2(0.605, 0.605)
texture = ExtResource("11_jp35h")

[node name="BgLayoutPage11" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(10354, 2395)
scale = Vector2(0.605, 0.605)
texture = ExtResource("12_qxo6j")

[node name="BgLayoutPage12" type="Sprite2D" parent="Layouts/Sprite_background"]
position = Vector2(11515, 2762)
scale = Vector2(0.605, 0.605)
texture = ExtResource("13_yyhiw")

[node name="New_background" type="Node2D" parent="Layouts"]

[node name="Background1" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(380, 58)
texture = ExtResource("14_jat1y")

[node name="Background2" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(3035, 58)
texture = ExtResource("15_fla5m")

[node name="Background3" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(5690, 58)
texture = ExtResource("16_f1pbb")

[node name="Background4" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(8345, 58)
texture = ExtResource("17_4ots1")

[node name="Background5" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(11000, 58)
texture = ExtResource("18_mo34c")

[node name="Background6" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(13655, 58)
texture = ExtResource("19_pfrib")

[node name="Background7" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(16310, 58)
texture = ExtResource("20_pyg1e")

[node name="Background8" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(380, 1655)
texture = ExtResource("21_wxobd")

[node name="Background9" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(3035, 1655)
texture = ExtResource("22_x1dbr")

[node name="Background10" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(5690, 1655)
texture = ExtResource("23_6he83")

[node name="Background11" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(8345, 1655)
texture = ExtResource("24_mrc11")

[node name="Background12" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(11000, 1655)
texture = ExtResource("25_utbwc")

[node name="Background13" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(13655, 1655)
texture = ExtResource("26_yh8ta")

[node name="Background14" type="Sprite2D" parent="Layouts/New_background"]
position = Vector2(16310, 1655)
texture = ExtResource("27_jt5sp")

[node name="Bg1" type="Sprite2D" parent="Layouts"]
position = Vector2(4217, 255)
scale = Vector2(0.669442, 0.669442)
texture = ExtResource("28_4x760")

[node name="Bg2" type="Sprite2D" parent="Layouts"]
position = Vector2(6175.78, 1111.85)
scale = Vector2(0.690884, 0.690884)
texture = ExtResource("29_xb2w4")

[node name="Bg0" type="Sprite2D" parent="Layouts"]
position = Vector2(2287, -130)
scale = Vector2(0.771912, 0.771912)
texture = ExtResource("30_7da55")

[node name="PlayerTestCharacterBody2D" parent="." instance=ExtResource("2_ru0e0")]
position = Vector2(-394, 102)
scale = Vector2(3.5, 3.5)

[node name="Camera2D" type="Camera2D" parent="PlayerTestCharacterBody2D"]
position = Vector2(112, -34.5714)
scale = Vector2(1, 1)

[node name="CollectedFishControl" type="Control" parent="PlayerTestCharacterBody2D"]
layout_mode = 3
anchors_preset = 0
offset_left = -52.2857
offset_top = -123.143
offset_right = 218.714
offset_bottom = -83.1429

[node name="Text" type="RichTextLabel" parent="PlayerTestCharacterBody2D/CollectedFishControl"]
modulate = Color(0.366595, 0.366595, 0.366595, 1)
layout_mode = 0
offset_right = 313.0
offset_bottom = 65.0
scale = Vector2(0.613333, 0.6)
text = "Amount of fish collected: "
script = ExtResource("3_yt2u6")

[node name="Flashbacks" type="Control" parent="PlayerTestCharacterBody2D"]
layout_mode = 3
anchors_preset = 0
offset_left = -29.4286
offset_top = -112.571
offset_right = 353.571
offset_bottom = 103.428
scale = Vector2(0.857074, 0.862739)
script = ExtResource("16_hixwt")

[node name="Flashback1" type="Panel" parent="PlayerTestCharacterBody2D/Flashbacks"]
visible = false
material = SubResource("CanvasItemMaterial_3unfs")
layout_mode = 0
offset_right = 385.0
offset_bottom = 220.0

[node name="RichTextLabel" type="RichTextLabel" parent="PlayerTestCharacterBody2D/Flashbacks/Flashback1"]
layout_mode = 0
offset_left = 97.6667
offset_top = 86.6667
offset_right = 292.667
offset_bottom = 255.667
text = "Flashback 1
Press Space to continue"

[node name="Flashback2" type="Panel" parent="PlayerTestCharacterBody2D/Flashbacks"]
visible = false
material = SubResource("CanvasItemMaterial_3unfs")
layout_mode = 0
offset_right = 381.0
offset_bottom = 214.0

[node name="RichTextLabel" type="RichTextLabel" parent="PlayerTestCharacterBody2D/Flashbacks/Flashback2"]
layout_mode = 0
offset_left = 97.6667
offset_top = 86.6667
offset_right = 292.667
offset_bottom = 255.667
text = "Flashback 2
Press Space to continue"

[node name="Flashback3" type="Panel" parent="PlayerTestCharacterBody2D/Flashbacks"]
visible = false
material = SubResource("CanvasItemMaterial_3unfs")
layout_mode = 0
offset_right = 383.0
offset_bottom = 214.0

[node name="RichTextLabel" type="RichTextLabel" parent="PlayerTestCharacterBody2D/Flashbacks/Flashback3"]
layout_mode = 0
offset_left = 97.6667
offset_top = 86.6667
offset_right = 292.667
offset_bottom = 255.667
text = "Flashback 3
Press Space to continue"

[node name="Flashback4" type="Panel" parent="PlayerTestCharacterBody2D/Flashbacks"]
visible = false
material = SubResource("CanvasItemMaterial_3unfs")
layout_mode = 0
offset_right = 384.0
offset_bottom = 220.0

[node name="RichTextLabel" type="RichTextLabel" parent="PlayerTestCharacterBody2D/Flashbacks/Flashback4"]
layout_mode = 0
offset_left = 97.6667
offset_top = 86.6667
offset_right = 292.667
offset_bottom = 255.667
text = "End of the prototype"

[node name="Fish1" parent="." instance=ExtResource("2_orlob")]
position = Vector2(2130, 271)

[node name="Fish3" parent="." instance=ExtResource("2_orlob")]
modulate = Color(1, 0.797057, 0.244597, 1)
position = Vector2(5822, 1400)

[node name="Fish4" parent="." instance=ExtResource("2_orlob")]
modulate = Color(0.274287, 0.643954, 0, 1)
position = Vector2(16504, 714)

[node name="Ground" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="Ground"]
position = Vector2(-582, 206)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Ground/StaticBody2D"]
polygon = PackedVector2Array(7, -1, 60, 0, 569, 12, 986, 10, 1159, 3, 1733, 14, 2269, 60, 2468, 93, 2808, 111, 3067, 119, 3201, 130, 3401, 130, 3700, 139, 4054, 207, 4634, 275, 4834, 303, 4992, 313, 5134, 331, 5335, 354, 5487, 402, 5657, 457, 5973, 528, 6583, 501, 6891, 475, 7300, 587, 7631, 614, 8166, 580, 8410, 611, 8429, 736, 8452, 996, 8444, 1084, 8263, 1087, 7742, 1092, 7459, 1169, 7275, 1132, 7168, 1072, 6920, 986, 6523, 959, 6122, 1010, 6121, 1179, 6173, 1210, 6203, 1254, 6379, 1319, 6562, 1378, 6685, 1494, 6831, 1539, 6988, 1599, 7159, 1690, 7317, 1789, 7452, 1831, 7602, 1854, 7726, 1842, 7817, 1816, 8672, 1815, 9990, 1798, 10973, 1836, 11753, 1857, 12718, 1873, 13498, 1873, 14026, 1540, 14963, 1146, 15457, 1066, 15797, 1029, 16118, 779, 16530, 693, 16965, 676, 17182, 665, 17279.2, 723.044, 17273, 77, 14195, 216, 13688, 638, 12889, 1209, 11642, 1461, 10433, 1081, 13058, -542, 17950, -349, 17495, 852, 16865, 3056, -502, 2449, -88, -401, 0, -490)

[node name="PathsForFishes" type="Node2D" parent="."]

[node name="PathFish2" type="Path2D" parent="PathsForFishes"]
position = Vector2(3453, 262)
curve = SubResource("Curve2D_g3ntp")

[node name="PathFollow2D" type="PathFollow2D" parent="PathsForFishes/PathFish2"]
position = Vector2(247, -115)
rotation = 0.042238
rotates = false

[node name="Fish2" parent="PathsForFishes/PathFish2/PathFollow2D" instance=ExtResource("2_orlob")]
modulate = Color(0.759312, 0.402, 0, 1)
position = Vector2(0.0844727, 1.9982)
rotation = -0.042238

[node name="Foreground_details" type="Node2D" parent="."]

[node name="Waterlayer" type="Sprite2D" parent="Foreground_details"]
visible = false
modulate = Color(1, 1, 1, 0.717647)
position = Vector2(4221, 672)
scale = Vector2(0.673749, 0.673749)
texture = ExtResource("35_75k71")

[node name="WaterlayerPart1" type="Sprite2D" parent="Foreground_details"]
position = Vector2(4215, 758)
scale = Vector2(0.700189, 0.700189)
texture = ExtResource("36_rkjx6")

[node name="WaterlayerPart2" type="Sprite2D" parent="Foreground_details"]
modulate = Color(1, 1, 1, 0.960784)
position = Vector2(6224.47, 755.75)
scale = Vector2(0.695467, 0.695467)
texture = ExtResource("37_bcpg3")

[node name="Detail01" type="Sprite2D" parent="Foreground_details"]
modulate = Color(1, 1, 1, 0.941176)
position = Vector2(4288.13, 525.75)
scale = Vector2(0.763288, 0.763288)
texture = ExtResource("38_3brxp")

[node name="Detail02" type="Sprite2D" parent="Foreground_details"]
modulate = Color(1, 1, 1, 0.941176)
position = Vector2(2096.13, 523.75)
scale = Vector2(0.763288, 0.763288)
texture = ExtResource("38_3brxp")
flip_h = true

[connection signal="FlashbackOver" from="PlayerTestCharacterBody2D/Flashbacks" to="PlayerTestCharacterBody2D" method="_on_flashbacks_flashback_over"]
[connection signal="FlashbackTime" from="PlayerTestCharacterBody2D/Flashbacks" to="PlayerTestCharacterBody2D" method="_on_flashbacks_flashback_time"]
[connection signal="Fishcollected" from="Fish1" to="PlayerTestCharacterBody2D/Flashbacks" method="_on_fish_1_fishcollected"]
[connection signal="Fishcollected" from="Fish3" to="PlayerTestCharacterBody2D/Flashbacks" method="_on_fish_3_fishcollected"]
[connection signal="Fishcollected" from="Fish4" to="PlayerTestCharacterBody2D/Flashbacks" method="_on_fish_4_fishcollected"]
[connection signal="Fishcollected" from="PathsForFishes/PathFish2/PathFollow2D/Fish2" to="PlayerTestCharacterBody2D/Flashbacks" method="_on_fish_2_fishcollected"]
